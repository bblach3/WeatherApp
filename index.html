<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <style>
        div{
            font-size: 500px;
            color:white;
        }

        /* body {
            background-image: url(https://localadventurer.com/wp-content/uploads/2019/03/walker-canyon-california-wildflowers.jpg);
        } */

        .txt-accent{
        color: #FCA311;
        }

        body, html {
        height: 100%;
        margin: 0;
    
        }

        .bg {
        /* The image used */
        background-image: url(https://localadventurer.com/wp-content/uploads/2019/03/walker-canyon-california-wildflowers.jpg);

        /* Full height */
        height: 100%; 

        /* Center and scale the image nicely */
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        }
    </style>

</head>

<body>
    <div class="bg">
    <h3>See the temperature in your city</h3>
    <div class="input-group mb-1 btn-dark w-25">
        
        <input type="text" id="theCity" class="form-control" placeholder="Type in city name" aria-label="Type in city" aria-describedby="button-addon2">
        <button class="btn btn-outline-secondary txt-accent" type="button" onclick="getInputValue()" id="button-addon2">Enter</button>
      </div>

      <div id="temp" class="p-1 div" ></div>
      
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <script src="https://kit.fontawesome.com/7e5f595283.js" crossorigin="anonymous"></script>

    <script src =js/api.js></script>

    <script>

function getInputValue(){
            // Selecting the input element and get its value 
            var enterButton = document.getElementById("theCity").value;
        
            // document.getElementById("temp").innerHTML = enterButton;
            //"http://api.openweathermap.org/data/2.5/weather?q=Chicago&appid=9361bd03ec7175e9eea92fdf7a717518"
            
            
        var api = "https://api.openweathermap.org/data/2.5/weather?q="
        //var city = "Chicago"
    

        var url = api+enterButton+APIKEY

        fetch(url)
        .then(response => response.json())
        .then(data =>{
            console.log(data)
            console.log(data.main.temp)

            let kelvin = data.main.temp
            let degC = Math.floor(kelvin -273.15)
            console.log(degC);

            //F = C * 1.8 + 32

            let degF = Math.floor(degC * 1.8 +32)

            console.log(degF)

            let div = document.getElementById('temp');

            div.textContent = `${degF.toString()} F`

        })

}

    </script>

</body>
</html>